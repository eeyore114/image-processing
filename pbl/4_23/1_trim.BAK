/******************************************************************************
       1_trim.c
       画像を切り取る。
       一部修正　柳瀬　2012/11/01
	     ファイル出入力を削除　馬路　2013/9/11　尾川先生公認
       一部修正　伊藤　2016/9/16
******************************************************************************/
#include <stdio.h>
#include <stdlib.h>

int main()
{
    int             i, j;
    unsigned char   f[256][256];       /** 原画像用の配列 **/
    unsigned char   g[256][256];       /** トリミング後の画像の配列 **/
    FILE            *fp1 ,*fp2;

    /**原画像ファイル読み込み********************************/
	fp1 = fopen("lenna_uchar_256-256.raw" , "rb");
	fread( f , 1 , 256 * 256 , fp1);
	fclose( fp1 );

    /****************************************************************/


    /**↓↓プログラム作成開始↓↓************************************/
	for(i=0;i<128;i++){
		for(j=0;j<128;j++){
			if(f[i][j] < 127){
				g[i][j] = 0;
			}
			else
				g[i][j] = 255;
		}
	}

    /**↑↑プログラム作成終了↑↑************************************/


    /**トリミング画像ファイル書き込み**************************************/
    fp2 = fopen( "kadai1.raw" , "wb" );
    fwrite( g , 1 , 256 * 256  , fp2 );
    fclose( fp2 );
    /****************************************************************/

    return 0;
}

